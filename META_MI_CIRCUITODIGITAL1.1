module somadorUM( S, Cout, A, B, Cin);
	input A, B, Cin;
	output S, Cout;
	wire T1, T2, T3;
	
	xor Xor0(T1, A, B);
	and And0(T2, A, B);
	and And1(T3, T1, Cin);
	or Or0(Cout, T2, T3);
	xor Xor1(S, T1, Cin);
endmodule


module somadorQuatro(
    input A1, B1, A2, B2, A3, B3, A4, B4,
    input Cin,
    output S1, S2, S3, S4,
    output Cout
    );
    wire c_in2, c_in3, c_in4;

    somadorUM um (
        .A(A1),
        .B(B1),
        .Cin(Cin),
        .S(S1),
        .Cout(c_in2)
    );
    somadorUM dois (
        .A(A2),
        .B(B2),
        .Cin(c_in2),
        .S(S2),
        .Cout(c_in3)
    );
    somadorUM tres (
        .A(A3),
        .B(B3),
        .Cin(c_in3),
        .S(S3),
        .Cout(c_in4)
    );
    somadorUM quatro (
        .A(A4),
        .B(B4),
        .Cin(c_in4),
        .S(S4),
        .Cout(Cout)
    );
endmodule

module subtratorQuatro(
    input A1, A2, A3, A4,
    input B1, B2, B3, B4,
    input Bin,
    output D1, D2, D3, D4,
    output Bout
    );
    wire bin2, bin3, bin4;


    somadorUM subUM1 (
        .A(A1),
        .B(~B1),
        .Cin(1'b1), //estou utilizando o somadorUM e complemento de dois para fazer o subtrator.
        .S(D1), // cin do primeiro bit sempre sera 1.
        .Cout(bin2)
    );
    somadorUM subUM2 (
        .A(A2),
        .B(~B2),
        .Cin(bin2),
        .S(D2),
        .Cout(bin3)
    );
    somadorUM subUM3 (
        .A(A3),
        .B(~B3),
        .Cin(bin3),
        .S(D3),
        .Cout(bin4)
    );
    somadorUM subUM4 (
        .A(A4),
        .B(~B4),
        .Cin(bin4),
        .S(D4),
        .Cout(Bout)
    );
endmodule

module or4bits(S, A,B);

	input [3:0]A;
	input [3:0]B;
	output [3:0]S;
	
	or(S[0],A[0],B[0]);
	or(S[1],A[1],B[1]);
	or(S[2],A[2],B[2]);
	or(S[3],A[3],B[3]);

endmodule

module and4bits(S, A,B);

	input [3:0]A;
	input [3:0]B;
	output [3:0]S;
	
	and(S[0],A[0],B[0]);
	and(S[1],A[1],B[1]);
	and(S[2],A[2],B[2]);
	and(S[3],A[3],B[3]);

endmodule

module xor4bits(S, A,B);

	input [3:0]A;
	input [3:0]B;
	output [3:0]S;
	
	xor(S[0],A[0],B[0]);
	xor(S[1],A[1],B[1]);
	xor(S[2],A[2],B[2]);
	xor(S[3],A[3],B[3]);

endmodule
